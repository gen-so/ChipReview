@page "/review-list"

<PageTitle>List of Reviews</PageTitle>


<table class="table table-striped table-hover">
    <thead>
    <tr>
        <th scope="col">Username</th>
        <th scope="col">Chip</th>
        <th scope="col">Vendor</th>
        <th scope="col">Rating</th>
        <th scope="col">Title</th>
        <th scope="col">ReviewText</th>
        <th scope="col">Time</th>
    </tr>
    </thead>
    <tbody>
    @foreach (var review in _reviewList)
    {
        <tr>
            <td scope="row">@review.Username</td>
            <td>@review.Chip</td>
            <td>@review.Vendor</td>
            <td>@review.Rating</td>
            <td>@review.Title</td>
            <td>@review.ReviewText</td>
            <td>@review.Time</td>
        </tr>
    }
    </tbody>
</table>



@code {

    List<BlazorApp.Shared.Review> _reviewList = new();
    int _reviewCount = 0;

    protected override async Task OnInitializedAsync()
    {
        //get a list of all reviews from API server
        _reviewList = await ServerManager.GetReviewListAll();

        //set the review count
        _reviewCount = _reviewList.Count;

    }

}